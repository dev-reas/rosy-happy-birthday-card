<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday Website 2.0 | Aoudumber Bade">
    <meta name="github" content="https://github.com/Aoudumber-Bade">
    <title>Happy Birthday Rosyyy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                <div class="btn-wrapper">
                    <button class="btn" onclick="goToNextPage()" id="btn__letter">
                        <div class="mail">
                            Let's go
                            <i class="fa-solid fa-arrow-right"></i>
                        </div>
                    </button>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img class="face front" id="profileFront" src="./images/profile.jpeg" alt="Profile front">
                        <img class="face back" id="profileBack" src="./images/profile2.png" alt="Profile back">
                        <div class="avatar-overlay" aria-hidden="true"></div>
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Rosy Enriquez</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<script>
    // Typing/date text logic
    (function () {
        const datetxt = "November 26";
        const charArrDate = datetxt.split('');
        let currentIndex = 0;
        const date__of__birth = document.querySelector('.date__of__birth span');
        setTimeout(() => {
            const timeDatetxt = setInterval(() => {
                if (currentIndex < charArrDate.length) {
                    date__of__birth.textContent += charArrDate[currentIndex];
                    currentIndex++;
                } else {
                    const i = document.createElement('i');
                    i.className = 'fa-solid fa-heart';
                    document.querySelector('.date__of__birth').prepend(i);
                    document.querySelector('.date__of__birth').appendChild(i.cloneNode(true));
                    clearInterval(timeDatetxt);
                }
            }, 100);
        }, 12000);
    })();

    // Navigation helper
    function goToNextPage() {
        gsap.to('.next-button', {
            scale: 1.2,
            yoyo: true,
            repeat: 1,
            duration: 0.3,
            onComplete: () => {
                window.location.href = 'cake.html';
            }
        });
    }

    // Avatar crossfade toggle: add/remove `.swapped` on click
    document.addEventListener('DOMContentLoaded', () => {
        const imgWrapper = document.querySelector('.content .right .image');
        const frontEl = document.getElementById('profileFront');
        const backEl = document.getElementById('profileBack');
        if (!imgWrapper || !frontEl || !backEl) return;

        // preload images to avoid repaint delays
        [frontEl.src, backEl.src].forEach(src => { const i = new Image(); i.src = src; });

        let busy = false;
        imgWrapper.addEventListener('click', () => {
            if (busy) return;
            busy = true;
            imgWrapper.style.pointerEvents = 'none';

            // toggle swapped state - CSS transitions handle the crossfade
            imgWrapper.classList.toggle('swapped');

            // wait for the CSS transition to finish, then clear busy state
            const onEnd = (e) => {
                // only respond to the opacity or transform transition from the faces/overlay
                if (e.propertyName !== 'opacity' && e.propertyName !== 'transform') return;
                busy = false;
                imgWrapper.style.pointerEvents = '';
                imgWrapper.removeEventListener('transitionend', onEnd);
            };
            imgWrapper.addEventListener('transitionend', onEnd);
        });
    });
</script>

</html>